{
    "entityprotos" : {
        "peasant" : {
            "name" : "Peasant",
            "components" : ["steering", "appearance"],
            "appearance" : {
                "sprite" : "res/unit-pesant.png",
                "portrait" : "res/unit-pesant.png"
            },
            "locator" : { "r" : 32 },
            "behaviour" : { "type" : "unit" }
        },
        "archer" : {
            "name" : "Archer",
            "components" : ["steering", "appearance", "behaviour", "variables", "abilities", "maprevealer", "moving"],
            "appearance" : {
                "sprite" : "res/unit-archer.png",
                "portrait" : "res/unit-archer.png"
            },
            "behaviour" : { "type" : "unit" },
            "locator" : { "r" : 32 },
            "variables" : {
                "hp" : { "max" : "maxhp", "regen" : "hgregen" }
            },
            "stats" : {
                "maxhp" : 250,
                "hgregen" : 2,
                "sight" : 256
            },
            "abilities" : [ "boost", "heal" ]
        },
        "townhall" : {
            "name" : "Town Hall",
            "components" : ["appearance", "behaviour", "maprevealer", "footprint", "abilities"],
            "appearance" : {
                "sprite" : "res/bldg-townhall.png",
                "portrait" : "res/bldg-townhall.png"
            },
            "behaviour" : { "type" : "building" },
            "locator" : { "r" : 128 },
            "stats" : {
                "sight" : 1024
            },
            "abilities" : [ "train_archer" ]
        }
    },

    "entities" : {
        "1" : {
            "team" : 0,
            "proto" : "peasant",
            "locator" : {
                "x" : 50, "y" : 50, "placed" : true
            }
        },
        "2" : {
            "team" : 0,
            "proto" : "archer",
            "locator" : {
                "x" : 100, "y" : 100, "placed" : true
            }
        },
        "3" : {
            "team" : 0,
            "proto" : "archer",
            "locator" : {
                "x" : 150, "y" : 150, "placed" : true
            }
        },
        "4" : {
            "team" : 0,
            "proto" : "townhall",
            "locator" : {
                "x" : 300, "y" : 300, "placed" : true
            }
        }
    },

    "content" : {
        "abilities" : {
            "boost" : {
                "type" : "instant",
                "name" : "HP Boost",
                "description" : "Raises MaxHP by 10% for 30s",
                "effect" : [
                    "function(me, target)",
                    "    print('Inside Lua boost' .. me)",
                    "    print(target)",
                    "    place_entity(me, 600, 600)",
                    "end"
                ],
                "group" : true,
                "cooldown" : 60,
                "cost" : 100,
                "image" : "res/unit-pesant.png"
            },
            "heal" : {
                "type" : "targeted",
                "name" : "Heal",
                "description" : "Restores 100 HP to target unit",
                "effect" : [
                    "function(me, target)",
                    "    print('Inside Lua heal' .. me)",
                    "    print(target)",
                    "end"
                ],
                "cooldown" : 60,
                "cost" : 100,
                "image" : "res/unit-pesant.png"
            },
            "train_archer" : {
                "type" : "instant",
                "name" : "Train Archer",
                "description" : "Trains an Archer",
                "effect" : [
                    "function(me)",
                    "    print('Inside train archer')",
                    "    ent = create_entity(0, 'archer')",
                    "    place_entity(ent, 500, 500)",
                    "end"
                ],
                "cooldown" : 60,
                "cost" : 100,
                "image" : "res/unit-pesant.png"
            }
        }
    },

    "teams" : [
        {
            "tid" : 0,
            "entityprotos" : {
                "peasant" : {
                    "name" : "Peasant Upgraded",
                    "components" : ["steering", "appearance", "behaviour", "maprevealer"],
                    "appearance" : {
                        "sprite" : "res/unit-pesant.png",
                        "portrait" : "res/unit-pesant.png"
                    },
                    "behaviour" : { "type" : "unit" },
                    "locator" : { "r" : 32 },
                    "stats" : {
                        "sight" : 256,
                        "speed" : 1
                    }
                }
            }
        },
        {
            "tid" : 1,
            "entityprotos" : {}
        }
    ],

    "players" : [
        {
            "teams" : [0],
            "type" : "human"
        },
        {
            "teams" : [1],
            "type" : "passive"
        }
    ],

    "misc" : {
        "camera.initial.position" : {
            "0" : { "x" : 0, "y" : 0 },
            "1" : { "x" : 0, "y" : 0 }
        },
        "entities.nexteid" : 100
    },

    "tileset" : {
        "texture" : "terrain_grass.png",
        "fogofwar" : "fogofwar.png"
    },        

    "map" : {
        "loaded" : ["0/0"],
        "sectors" : {
            "0/0" : {
                "tiles" : "tiles.hex",
                "entities" : [1, 2, 3, 4]
            },
            "0/1" : {
                "tiles" : "tiles.hex"
            },
            "1/1" : {
                "tiles" : "tiles.hex"
            },
            "1/0" : {
                "tiles" : "tiles.hex"
            }
        }
    }
}